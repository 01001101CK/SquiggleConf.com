---
import { Image } from "astro:assets";
import squigglyMedium from "~/assets/design/squiggly-medium.svg";
import squigglyWide from "~/assets/design/squiggly-wide.svg";

interface Props {
	width: "medium" | "wide";
}

const images = {
	medium: squigglyMedium,
	wide: squigglyWide,
};
---

<em class:list={["text-squiggly", `text-squiggly-${Astro.props.width}`]}>
	<span class="text"><slot name="inside" /></span><Image
		alt=""
		class="squiggly"
		src={images[Astro.props.width]}
	/>
</em><slot name="after" />

<style>
	.text-squiggly {
		display: inline-block;
		position: relative;
		font-style: inherit;
	}

	.text {
		z-index: 1;
		position: relative;
	}

	.squiggly {
		position: absolute;
		left: 0;
		width: 100%;
	}

	.text-squiggly-medium .squiggly {
		bottom: -0.1em;
	}

	.text-squiggly-wide .squiggly {
		bottom: -0.2em;
	}
</style>
